<nz-table #listUser [nzData]="listOfUser" [nzFrontPagination]="true"
          [nzPageSize]="pageSize" [nzPageIndex]="curPage" [nzLoading]="false">
  <thead>
  <tr>
    <th>Id</th>
    <th>Name</th>
    <th>Mail</th>
    <th>Role</th>
    <th>Operation</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let user of listUser.data; let i = index; trackBy: trackByUserId">
    <td>{{ user.id }}</td>
    <td>{{ user.username }}</td>
    <td>{{ user.email }}</td>
    <td>{{ user.role === 1 ? 'Admin' : 'User'}}</td>
    <td>
      <a (click)="showModal(user.username)">Voir ses issues</a>
    </td>
  </tr>
  </tbody>
</nz-table>

<nz-modal [(nzVisible)]="isVisible" nzTitle="Chiffrement" (nzOnCancel)="handleModifierCancel()" (nzOnOk)="handleModifierOk()" nzOkText="Confrim"
          nzCancelText="Exit">
  <ng-container *nzModalContent>
    <nz-table #listIssue [nzData]="listOfIssue" [nzFrontPagination]="true"
              [nzPageSize]="pageSize" [nzPageIndex]="curPage" [nzLoading]="false">
      <thead>
      <tr>
        <th>Id</th>
        <th>Title</th>
        <th>Chiffrement</th>
        <th>Valid</th>
        <th>Time</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let issue of listIssue.data; let i = index">
        <td>{{ issue.id }}</td>
        <td>{{ issue.title }}</td>
        <td>{{ issue.humanTimeEstimate }}</td>
        <td>{{ issue.updated === 1 ? 'Valid' : 'Non'}} </td>
        <td>{{ issue.time }}</td>
      </tr>
      </tbody>
    </nz-table>
  </ng-container>
</nz-modal>
